---
import { translations, type Language } from '../../scripts/translations';

export interface Props {
  lang?: Language;
  simple?: boolean;
}

const { lang = 'cs', simple = false } = Astro.props;
const t = translations[lang];
---

<div class="fixed z-50 flex animate-on-scroll [animation:animationIn_0.8s_ease-out_0s_both] pr-4 pl-4 top-6 right-0 left-0 justify-center">
  <nav class="flex md:gap-8 bg-neutral-950/90 w-full h-14 max-w-5xl border-white/10 border mr-auto ml-auto pr-3 pl-6 shadow-lg backdrop-blur-xl gap-x-4 gap-y-4 items-center justify-between rounded-lg">
    <div class="flex items-center gap-2">
      <a href="/" class="flex items-center gap-2">
        <img src="/assets/images/logo.png" alt="HypeDigitaly" class="h-8 w-auto">
      </a>
    </div>

    {!simple && (
      <div class="hidden lg:flex items-center gap-6 text-sm font-medium text-neutral-400">
        <!-- Services Dropdown -->
        <div class="relative" id="services-dropdown">
          <button id="services-trigger" class="flex items-center gap-1.5 hover:text-white transition-colors py-2">
            <span>{t.nav_services}</span>
            <svg id="services-arrow" class="w-4 h-4 transition-transform duration-300 ease-out" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div id="services-menu" class="absolute left-0 top-full pt-2 opacity-0 invisible transition-all duration-200 pointer-events-none">
            <div class="w-56 rounded-xl bg-neutral-900/95 ring-1 ring-white/10 backdrop-blur-xl shadow-2xl overflow-hidden">
              <a href="/chatbot" class="flex items-center gap-3 px-4 py-3 text-sm text-neutral-300 hover:text-white hover:bg-white/5 transition-colors">
                <iconify-icon icon="solar:chat-round-dots-linear" class="text-primary text-lg"></iconify-icon>
                <div>
                  <div class="font-medium">AI Chatbot</div>
                  <div class="text-xs text-neutral-500">InteligentnÃ­ konverzaÄnÃ­ AI</div>
                </div>
              </a>
              <a href="/konzultace" class="flex items-center gap-3 px-4 py-3 text-sm text-neutral-300 hover:text-white hover:bg-white/5 transition-colors">
                <iconify-icon icon="solar:users-group-two-rounded-linear" class="text-primary text-lg"></iconify-icon>
                <div>
                  <div class="font-medium">Konzultace & PartnerstvÃ­</div>
                  <div class="text-xs text-neutral-500">StrategickÃ© AI poradenstvÃ­</div>
                </div>
              </a>
            </div>
          </div>
        </div>
        <a href="/#pripadove-studie" class="hover:text-white transition-colors">{t.nav_cases}</a>
        <a href="/#ragus" class="hover:text-white transition-colors">RAGus.ai</a>
        <a href="/#faq" class="hover:text-white transition-colors">FAQ</a>
        <a href="/#kontakt" class="hover:text-white transition-colors">{t.nav_contact}</a>
      </div>
    )}

    <div class="flex items-center gap-3 text-sm font-medium">
      <!-- Language Switcher -->
      <div class="relative" id="lang-switcher">
        <button id="lang-trigger" class="hidden sm:flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-neutral-300 hover:bg-neutral-800 transition">
          <span class="text-base" id="lang-flag">{lang === 'cs' ? 'ğŸ‡¨ğŸ‡¿' : 'ğŸ‡¬ğŸ‡§'}</span>
          <span id="lang-text">{lang === 'cs' ? 'ÄŒeÅ¡tina' : 'English'}</span>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </button>
        <div id="lang-dropdown" class="hidden absolute right-0 mt-2 w-36 rounded-lg bg-neutral-900/95 ring-1 ring-white/10 backdrop-blur-xl shadow-xl overflow-hidden">
          <button class="w-full flex items-center gap-3 px-4 py-2.5 text-sm text-white hover:bg-white/5" data-lang="cs">
            <span class="text-base">ğŸ‡¨ğŸ‡¿</span>
            <span>ÄŒeÅ¡tina</span>
          </button>
          <button class="w-full flex items-center gap-3 px-4 py-2.5 text-sm text-neutral-300 hover:bg-white/5" data-lang="en">
            <span class="text-base">ğŸ‡¬ğŸ‡§</span>
            <span>English</span>
          </button>
        </div>
      </div>

      <!-- CTA Button -->
      <a href="/#kontakt" class="hover:bg-white/10 transition-all flex text-sm font-medium text-neutral-200 bg-gradient-to-b from-primary/30 via-primary/10 to-primary/20 px-4 py-2 shadow-[0px_1px_0px_0px_rgba(0,163,154,0.3)_inset] gap-x-2 items-center rounded-lg relative" style="--border-gradient: linear-gradient(180deg, rgba(0, 163, 154, 0.5), rgba(0, 163, 154, 0), rgba(0, 163, 154, 0.2)); --border-radius-before: 8px">
        <span class="text-xs font-semibold tracking-tight">{t.nav_cta}</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-primary">
          <path d="M5 12h14"></path>
          <path d="m12 5 7 7-7 7"></path>
        </svg>
      </a>

      <!-- Mobile Menu Button -->
      {!simple && (
        <button id="mobile-menu-btn" class="lg:hidden p-2 text-neutral-400 hover:text-white">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" x2="21" y1="6" y2="6"></line>
            <line x1="3" x2="21" y1="12" y2="12"></line>
            <line x1="3" x2="21" y1="18" y2="18"></line>
          </svg>
        </button>
      )}
    </div>
  </nav>
</div>

