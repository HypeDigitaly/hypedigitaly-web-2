---
import { translations, type Language, getLocalizedHref } from '../../scripts/translations';

export interface Props {
  lang?: Language;
}

const { lang = 'cs' } = Astro.props;
const t = translations[lang];

// Helper for localized links
const href = (path: string) => getLocalizedHref(path, lang);
---

<div 
  id="mobile-menu" 
  class="fixed inset-0 z-[60] bg-neutral-950/98 backdrop-blur-xl hidden"
  role="dialog"
  aria-modal="true"
  aria-label={t.nav_mobile_menu_label || "Mobile navigation menu"}
>
  <div class="flex flex-col h-full pt-24 px-6 pb-8">
    <button 
      id="mobile-menu-close" 
      class="absolute top-6 right-6 p-2 text-neutral-400 hover:text-white"
      aria-label={t.nav_close_menu_label || "Close menu"}
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <line x1="18" x2="6" y1="6" y2="18"></line>
        <line x1="6" x2="18" y1="6" y2="18"></line>
      </svg>
    </button>
    
    <div class="flex gap-4 mb-8">
      <button class={`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg transition-all ${lang === 'cs' ? 'bg-primary/20 text-primary ring-2 ring-primary/50' : 'bg-white/5 text-neutral-400'}`} data-lang="cs">
        <span>ğŸ‡¨ğŸ‡¿</span> ÄŒeÅ¡tina
        {lang === 'cs' && <iconify-icon icon="solar:check-circle-bold" class="text-primary"></iconify-icon>}
      </button>
      <button class={`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg transition-all ${lang === 'en' ? 'bg-primary/20 text-primary ring-2 ring-primary/50' : 'bg-white/5 text-neutral-400'}`} data-lang="en">
        <span>ğŸ‡¬ğŸ‡§</span> English
        {lang === 'en' && <iconify-icon icon="solar:check-circle-bold" class="text-primary"></iconify-icon>}
      </button>
    </div>
    
    <nav class="flex flex-col gap-4">
      <a href={href("/sluzby")} class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5">{t.nav_services}</a>
      <a href={href("/#reference")} class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5">{t.nav_cases}</a>
      <a href={href("/blog")} class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5 flex items-center gap-2">
        <iconify-icon icon="solar:chart-2-linear" class="text-primary"></iconify-icon>
        {t.nav_case_studies}
      </a>
      <a href={href("/#priprava-dat")} class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5">{t.nav_data_prep}</a>
      <a href="#kontakt" class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5">{t.nav_contact}</a>
    </nav>
    
    <div class="mt-auto">
      <a href="#kontakt" class="w-full flex items-center justify-center gap-2 py-4 bg-primary text-white font-semibold rounded-lg">
        {t.nav_cta}
      </a>
    <div class="flex flex-col gap-2 mt-6 text-sm text-neutral-400">
        <a href="mailto:info@hypedigitaly.ai" class="flex items-center gap-2">
          <iconify-icon icon="solar:letter-linear" class="text-lg" aria-hidden="true"></iconify-icon>
          info@hypedigitaly.ai
        </a>
        <a href="tel:+420774996248" class="flex items-center gap-2">
          <iconify-icon icon="solar:phone-linear" class="text-lg" aria-hidden="true"></iconify-icon>
          +420 774 996 248
        </a>
      </div>
    </div>
  </div>
</div>

