---
import { translations, type Language } from '../../scripts/translations';

export interface Props {
  lang?: Language;
}

const { lang = 'cs' } = Astro.props;
const t = translations[lang];
---

<div id="mobile-menu" class="fixed inset-0 z-[60] bg-neutral-950/98 backdrop-blur-xl hidden">
  <div class="flex flex-col h-full pt-24 px-6 pb-8">
    <button id="mobile-menu-close" class="absolute top-6 right-6 p-2 text-neutral-400 hover:text-white">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" x2="6" y1="6" y2="18"></line>
        <line x1="6" x2="18" y1="6" y2="18"></line>
      </svg>
    </button>
    
    <div class="flex gap-4 mb-8">
      <button class={`flex-1 flex items-center justify-center gap-2 py-3 bg-white/5 rounded-lg ${lang === 'cs' ? 'text-white' : 'text-neutral-400'}`} data-lang="cs">
        <span>ðŸ‡¨ðŸ‡¿</span> ÄŒeÅ¡tina
      </button>
      <button class={`flex-1 flex items-center justify-center gap-2 py-3 bg-white/5 rounded-lg ${lang === 'en' ? 'text-white' : 'text-neutral-400'}`} data-lang="en">
        <span>ðŸ‡¬ðŸ‡§</span> English
      </button>
    </div>
    
    <nav class="flex flex-col gap-4">
      <!-- Mobile Services Submenu -->
      <div class="border-b border-white/5">
        <div class="flex items-center justify-between w-full py-3">
          <a href="/#sluzby" class="text-xl text-neutral-300 hover:text-white">{t.nav_services}</a>
          <button id="mobile-services-toggle" class="p-2 text-neutral-300 hover:text-white -mr-2">
            <svg id="mobile-services-arrow" class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
        </div>
        <div id="mobile-services-submenu" class="hidden pl-4 pb-3 space-y-2">
          <a href="/chatbot" class="flex items-center gap-3 py-2 text-neutral-400 hover:text-white">
            <iconify-icon icon="solar:chat-round-dots-linear" class="text-primary"></iconify-icon>
            AI Chatbot
          </a>
          <a href="/konzultace" class="flex items-center gap-3 py-2 text-neutral-400 hover:text-white">
            <iconify-icon icon="solar:users-group-two-rounded-linear" class="text-primary"></iconify-icon>
            Konzultace & PartnerstvÃ­
          </a>
          <a href="/priprava-dat" class="flex items-center gap-3 py-2 text-neutral-400 hover:text-white">
            <iconify-icon icon="solar:database-bold" class="text-primary"></iconify-icon>
            {t.dataprep_nav_title}
          </a>
        </div>
      </div>
      <a href="/#reference" class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5">{t.nav_cases}</a>
      <a href="/blog?category=success-story" class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5 flex items-center gap-2">
        <iconify-icon icon="solar:chart-2-linear" class="text-primary"></iconify-icon>
        {t.nav_case_studies}
      </a>
      <a href="/#priprava-dat" class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5">{t.nav_data_prep}</a>
      <a href="#kontakt" class="text-xl text-neutral-300 hover:text-white py-3 border-b border-white/5">{t.nav_contact}</a>
    </nav>
    
    <div class="mt-auto">
      <a href="#kontakt" class="w-full flex items-center justify-center gap-2 py-4 bg-primary text-white font-semibold rounded-lg">
        {t.nav_cta}
      </a>
      <div class="flex flex-col gap-2 mt-6 text-sm text-neutral-500">
        <a href="mailto:info@hypedigitaly.ai" class="flex items-center gap-2">
          <iconify-icon icon="solar:letter-linear" class="text-lg"></iconify-icon>
          info@hypedigitaly.ai
        </a>
        <a href="tel:+420774996248" class="flex items-center gap-2">
          <iconify-icon icon="solar:phone-linear" class="text-lg"></iconify-icon>
          +420 774 996 248
        </a>
      </div>
    </div>
  </div>
</div>

