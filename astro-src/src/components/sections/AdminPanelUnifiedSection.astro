---
import { translations, type Language } from '../../scripts/translations';
import RagusSlideshow from '../ui/RagusSlideshow.astro';

export interface Props {
  lang: Language;
  sectionNumber?: string;
  id?: string;
}

const { lang, sectionNumber = "06", id = "ragus" } = Astro.props;
const t = translations[lang];

// All RAGus.ai / Admin Panel images combined into one slideshow
const allSlides = [
  { src: "/assets/images/ragus/01.PNG", alt: "RAGus.ai Dashboard Overview" },
  { src: "/assets/images/ragus/02.PNG", alt: "RAGus.ai Features" },
  { src: "/assets/images/ragus/03.PNG", alt: "RAGus.ai Analytics" },
  { src: "/assets/images/ragus/04.PNG", alt: "RAGus.ai Management" },
  { src: "/assets/images/RAGus_ManualKB_UserFixes_StructuredFormatTable.PNG", alt: "Manual Knowledge Base - Structured Data" },
  { src: "/assets/images/RAGus_ConversationTranscripts_Image.PNG", alt: "Conversation Transcripts & Monitoring" },
  { src: "/assets/images/RAGus_AutomatedKB_Image1.PNG", alt: "Automated Knowledge Base" }
];
---

<section id={id} class="bg-[#050505] border-t border-white/5 py-24">
  <div class="max-w-5xl mx-auto px-6">
    <!-- Section Header Bar -->
    <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-12 text-[10px] md:text-xs font-mono text-neutral-400 uppercase tracking-[0.2em] gap-4">
      <div class="flex items-center gap-2">
        <span class="text-white">{sectionNumber}</span>
        <span class="w-12 h-px bg-white/10"></span>
      </div>
      <div class="text-white/40">// RAGus.ai</div>
      <div class="hidden md:block text-right" data-i18n="chatbot_admin_headline">{t.chatbot_admin_headline}</div>
    </div>

    <!-- Badge -->
    <div class="animate-on-scroll [animation:animationIn_0.8s_ease-out_0.2s_both] mb-6 flex justify-center">
      <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-orange-500/10 rounded-lg text-orange-400 text-sm font-medium">
        <iconify-icon icon="solar:stars-bold"></iconify-icon>
        <span>{t.ragus_badge}</span>
      </div>
    </div>

    <!-- Main Headline -->
    <h2 class="animate-on-scroll [animation:animationIn_0.8s_ease-out_0.3s_both] leading-[1.1] text-4xl md:text-5xl lg:text-6xl font-medium text-white tracking-tighter mb-6 text-center">
      <span class="block mb-2">{t.ragus_headline_1}</span>
      <span class="text-neutral-400 block">{t.ragus_headline_2}</span>
    </h2>

    <!-- Description -->
    <p class="animate-on-scroll [animation:animationIn_0.8s_ease-out_0.4s_both] text-base md:text-lg text-neutral-400 mb-10 leading-relaxed max-w-3xl mx-auto text-center" set:html={t.ragus_desc} />

    <!-- Feature Checkmarks - Horizontal on desktop -->
    <div class="animate-on-scroll [animation:animationIn_0.8s_ease-out_0.45s_both] grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-12">
      <div class="flex items-center gap-3 p-3 bg-white/[0.02] rounded-xl border border-white/5">
        <iconify-icon icon="solar:check-circle-bold" class="text-orange-400 text-xl flex-shrink-0"></iconify-icon>
        <span class="text-sm text-neutral-300">{t.ragus_feature_1}</span>
      </div>
      <div class="flex items-center gap-3 p-3 bg-white/[0.02] rounded-xl border border-white/5">
        <iconify-icon icon="solar:check-circle-bold" class="text-orange-400 text-xl flex-shrink-0"></iconify-icon>
        <span class="text-sm text-neutral-300">{t.ragus_feature_2}</span>
      </div>
      <div class="flex items-center gap-3 p-3 bg-white/[0.02] rounded-xl border border-white/5">
        <iconify-icon icon="solar:check-circle-bold" class="text-orange-400 text-xl flex-shrink-0"></iconify-icon>
        <span class="text-sm text-neutral-300">{t.ragus_feature_3}</span>
      </div>
      <div class="flex items-center gap-3 p-3 bg-white/[0.02] rounded-xl border border-white/5">
        <iconify-icon icon="solar:check-circle-bold" class="text-orange-400 text-xl flex-shrink-0"></iconify-icon>
        <span class="text-sm text-neutral-300">{t.ragus_feature_4}</span>
      </div>
    </div>

    <!-- Combined Slideshow with ALL images -->
    <div class="animate-on-scroll [animation:animationIn_0.8s_ease-out_0.5s_both] mb-12">
      <RagusSlideshow lang={lang} variant="orange" customSlides={allSlides} />
    </div>

    <!-- Feature Cards Grid -->
    <div class="animate-on-scroll [animation:animationIn_0.8s_ease-out_0.6s_both] grid grid-cols-1 md:grid-cols-3 gap-5 mb-12">
      <!-- Feature 1: Self-edit Knowledge -->
      <div class="p-5 bg-[#0A0A0A] border border-white/5 rounded-2xl hover:border-orange-500/30 transition-all group">
        <div class="flex items-center gap-3 mb-3">
          <div class="w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center group-hover:bg-orange-500/20 transition-colors">
            <iconify-icon icon="solar:pen-new-square-bold" class="text-orange-400 text-xl"></iconify-icon>
          </div>
          <h3 class="text-base font-bold text-white" data-i18n="chatbot_admin_f1_title">{t.chatbot_admin_f1_title}</h3>
        </div>
        <p class="text-sm text-neutral-400 leading-relaxed" data-i18n="chatbot_admin_f1_desc">{t.chatbot_admin_f1_desc}</p>
      </div>

      <!-- Feature 2: Transcripts & Rating (DASHBOARD ICON) -->
      <div class="p-5 bg-[#0A0A0A] border border-white/5 rounded-2xl hover:border-orange-500/30 transition-all group">
        <div class="flex items-center gap-3 mb-3">
          <div class="w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center group-hover:bg-orange-500/20 transition-colors">
            <iconify-icon icon="solar:chart-2-bold" class="text-orange-400 text-xl"></iconify-icon>
          </div>
          <h3 class="text-base font-bold text-white" data-i18n="chatbot_admin_f2_title">{t.chatbot_admin_f2_title}</h3>
        </div>
        <p class="text-sm text-neutral-400 leading-relaxed" data-i18n="chatbot_admin_f2_desc">{t.chatbot_admin_f2_desc}</p>
      </div>

      <!-- Feature 3: Sentiment & Trends -->
      <div class="p-5 bg-[#0A0A0A] border border-white/5 rounded-2xl hover:border-orange-500/30 transition-all group">
        <div class="flex items-center gap-3 mb-3">
          <div class="w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center group-hover:bg-orange-500/20 transition-colors">
            <iconify-icon icon="solar:graph-up-bold" class="text-orange-400 text-xl"></iconify-icon>
          </div>
          <h3 class="text-base font-bold text-white" data-i18n="chatbot_admin_f3_title">{t.chatbot_admin_f3_title}</h3>
        </div>
        <p class="text-sm text-neutral-400 leading-relaxed" data-i18n="chatbot_admin_f3_desc">{t.chatbot_admin_f3_desc}</p>
      </div>
    </div>

    <!-- CTA Button - Centered -->
    <div class="animate-on-scroll [animation:animationIn_0.8s_ease-out_0.7s_both] text-center">
      <a href="https://ragus.ai" target="_blank" class="shiny-cta-orange group inline-flex">
        <span class="btn-content">
          <span class="text-base font-semibold">{t.ragus_cta}</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-white/80 group-hover:translate-x-1 transition-transform">
            <path d="M7 7h10v10"></path>
            <path d="M7 17 17 7"></path>
          </svg>
        </span>
      </a>
    </div>
  </div>
</section>

<style>
  /* Orange variant of shiny CTA button */
  .shiny-cta-orange {
    --shiny-cta-bg: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
    --shiny-cta-bg-subtle: linear-gradient(135deg, rgba(249, 115, 22, 0.15) 0%, rgba(234, 88, 12, 0.15) 100%);
    --shiny-cta-highlight: #fdba74;
    
    position: relative;
    border-radius: 9999px;
    background: var(--shiny-cta-bg);
    padding: 3px;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(249, 115, 22, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }
  
  .shiny-cta-orange::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s ease;
  }
  
  .shiny-cta-orange:hover::before {
    transform: translateX(100%);
  }
  
  .shiny-cta-orange:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(249, 115, 22, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  .shiny-cta-orange .btn-content {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.875rem 1.75rem;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.95) 100%);
    border-radius: 9999px;
    color: white;
    font-weight: 600;
  }
</style>
